{"version":3,"sources":["webpack:///./src/service/bookService.js","webpack:///src/components/views/Addbook/index.vue","webpack:///./src/components/views/Addbook/index.vue?bdd2","webpack:///./src/components/views/Addbook/index.vue"],"names":["__webpack_exports__","bookdata","axios","post","get","put","id","console","log","delete","params","_id","__WEBPACK_IMPORTED_MODULE_0_axios__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0_axios___default","n","Addbook","data","labelPosition","iseditor","formLabelAlign","img","name","url","key","rules","required","message","trigger","methods","onSubmit","bookForm","_this","this","$refs","validate","valid","Object","bookService","then","res","success","$message","resetForm","$router","push","resetFields","returnBooklist","mounted","_this2","$route","views_Addbook","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","label-position","label-width","model","src","on","click","_v","label","placeholder","prop","value","callback","$$v","$set","expression","type","plain","$event","staticRenderFns","Component","normalizeComponent","ssrContext"],"mappings":"sDAAAA,EAAA,EAQO,SAAkBC,GACvB,OAAOC,IAAMC,KAAK,oBAAqBF,IATzCD,EAAA,EAiBO,WACL,OAAOE,IAAME,IAAI,uBAlBnBJ,EAAA,EA2BO,SAAqBC,GAC1B,OAAOC,IAAMG,IAAI,uBAAwBJ,IA5B3CD,EAAA,EAsCO,SAAqBM,GAE1B,OADAC,QAAQC,IAAIF,GACLJ,IAAMO,OAAO,wBAAyBC,QAAUJ,SAxCzDN,EAAA,EAkDO,SAAkBW,GACvB,OAAOT,IAAME,IAAI,qBAAsBM,QAAUC,UAnDnD,IAAAC,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,yGCsCAI,GACAC,KADA,WAEA,OACAC,cAAA,MACAC,UAAA,EACAC,gBACAC,IAAA,GACAC,KAAA,GACAC,IAAA,GACAC,IAAA,IAEAC,OACAJ,MACAK,UAAA,EAAAC,QAAA,UAAAC,QAAA,SAEAN,OACAI,UAAA,EAAAC,QAAA,QAAAC,QAAA,SAEAL,MACAG,UAAA,EAAAC,QAAA,UAAAC,QAAA,SAEAJ,MACAE,UAAA,EAAAC,QAAA,SAAAC,QAAA,YAKAC,SACAC,SADA,SACAC,GAAA,IAAAC,EAAAC,KACAA,KAAAC,MAAAH,GAAAI,SAAA,SAAAC,GACA,IAAAA,EAuBA,SAtBAJ,EAAAb,SAWYkB,OAAAC,EAAA,EAAAD,CAAZL,EAAAZ,gBAAAmB,KACA,SAAAC,GACAA,EAAAvB,MAAAuB,EAAAvB,KAAAwB,UACAT,EAAAU,SAAA,QACAV,EAAAW,UAAAZ,GACAC,EAAAY,QAAAC,KAAA,gBAfYR,OAAAC,EAAA,EAAAD,CAAZL,EAAAZ,gBAAAmB,KACA,SAAAC,GACAA,EAAAvB,MAAAuB,EAAAvB,KAAAwB,UACAT,EAAAU,SAAA,QACAV,EAAAW,UAAAZ,GACAC,EAAAY,QAAAC,KAAA,mBAoBAF,UA9BA,SA8BAZ,GACAE,KAAAC,MAAAH,GAAAe,eAEAC,eAjCA,WAkCAd,KAAAU,UAAA,YACAV,KAAAW,QAAAC,KAAA,eAGAG,QAjEA,WAiEA,IAAAC,EAAAhB,KACAA,KAAAiB,OAAAxC,QAAAuB,KAAAiB,OAAAxC,OAAAJ,KACA2B,KAAAd,UAAA,EACMkB,OAAAC,EAAA,EAAAD,CAANJ,KAAAiB,OAAAxC,OAAAJ,IAAAiC,KACA,SAAAC,GACAS,EAAA7B,eAAAoB,EAAAvB,UCzGekC,GADEC,OAFjB,WAA0B,IAAAC,EAAApB,KAAaqB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,qBAA+BF,EAAA,WAAgBG,IAAA,WAAAD,YAAA,WAAAE,OAA6CC,iBAAAR,EAAAnC,cAAAO,MAAA4B,EAAA5B,MAAAqC,cAAA,OAAAC,MAAAV,EAAAjC,kBAAsGoC,EAAA,OAAYE,YAAA,WAAAE,OAA8BI,IAAA,wBAA6BC,IAAKC,MAAAb,EAAAN,kBAA4BM,EAAAc,GAAA,KAAAX,EAAA,gBAAiCI,OAAOQ,MAAA,OAAAC,YAAA,OAAAC,KAAA,SAAkDd,EAAA,YAAiBO,OAAOQ,MAAAlB,EAAAjC,eAAA,IAAAoD,SAAA,SAAAC,GAAwDpB,EAAAqB,KAAArB,EAAAjC,eAAA,MAAAqD,IAAyCE,WAAA,yBAAkC,GAAAtB,EAAAc,GAAA,KAAAX,EAAA,gBAAqCI,OAAOQ,MAAA,KAAAC,YAAA,KAAAC,KAAA,UAA+Cd,EAAA,YAAiBO,OAAOQ,MAAAlB,EAAAjC,eAAA,KAAAoD,SAAA,SAAAC,GAAyDpB,EAAAqB,KAAArB,EAAAjC,eAAA,OAAAqD,IAA0CE,WAAA,0BAAmC,GAAAtB,EAAAc,GAAA,KAAAX,EAAA,gBAAqCI,OAAOQ,MAAA,OAAAC,YAAA,OAAAC,KAAA,SAAkDd,EAAA,YAAiBO,OAAOQ,MAAAlB,EAAAjC,eAAA,IAAAoD,SAAA,SAAAC,GAAwDpB,EAAAqB,KAAArB,EAAAjC,eAAA,MAAAqD,IAAyCE,WAAA,yBAAkC,GAAAtB,EAAAc,GAAA,KAAAX,EAAA,gBAAqCI,OAAOQ,MAAA,MAAAE,KAAA,SAA4Bd,EAAA,aAAkBI,OAAOS,YAAA,OAAoBN,OAAQQ,MAAAlB,EAAAjC,eAAA,IAAAoD,SAAA,SAAAC,GAAwDpB,EAAAqB,KAAArB,EAAAjC,eAAA,MAAAqD,IAAyCE,WAAA,wBAAkCnB,EAAA,aAAkBI,OAAOQ,MAAA,QAAAG,MAAA,WAAiClB,EAAAc,GAAA,KAAAX,EAAA,aAA8BI,OAAOQ,MAAA,OAAAG,MAAA,UAA+BlB,EAAAc,GAAA,KAAAX,EAAA,aAA8BI,OAAOQ,MAAA,aAAAG,MAAA,QAAmClB,EAAAc,GAAA,KAAAX,EAAA,aAA8BI,OAAOQ,MAAA,SAAAG,MAAA,YAAmClB,EAAAc,GAAA,KAAAX,EAAA,aAA8BI,OAAOQ,MAAA,KAAAG,MAAA,QAA2BlB,EAAAc,GAAA,KAAAX,EAAA,aAA8BI,OAAOQ,MAAA,KAAAG,MAAA,YAA8B,OAAAlB,EAAAc,GAAA,KAAAX,EAAA,gBAAyCE,YAAA,gBAA0BF,EAAA,aAAkBE,YAAA,MAAAE,OAAyBgB,KAAA,UAAAC,MAAA,IAA4BZ,IAAKC,MAAA,SAAAY,GAAyB,OAAAzB,EAAAvB,SAAA,gBAAkCuB,EAAAc,GAAA,QAAAd,EAAAc,GAAA,KAAAX,EAAA,aAA6CE,YAAA,MAAAE,OAAyBgB,KAAA,UAAAC,MAAA,IAA4BZ,IAAKC,MAAA,SAAAY,GAAyB,OAAAzB,EAAAV,UAAA,gBAAmCU,EAAAc,GAAA,qBAExmEY,oBCCjB,IAcAC,EAdyBnE,EAAQ,OAcjCoE,CACEjE,EACAmC,GATF,EAVA,SAAA+B,GACErE,EAAQ,SAaV,KAEA,MAUeb,EAAA,QAAAgF,EAAiB","file":"static/js/7.ce13e007109bd6e8aee8.js","sourcesContent":["import axios from 'axios'\n\n/**\n *\n * @export\n * @param {*} bookdata: Object\n * @returns Promise\n */\nexport function addBook (bookdata) {\n  return axios.post('/api/back/addbook', bookdata)\n}\n\n/**\n *\n * @export\n * @returns Promise\n */\nexport function bookList () {\n  return axios.get('/api/back/booklist')\n}\n\n/**\n *\n * @export\n * @param {*} bookdata: Object\n * @returns Promise\n */\nexport function changeBook (bookdata) {\n  return axios.put('/api/back/updatebook', bookdata)\n}\n\n/**\n *\n *\n * @export\n * @param {*} id: {id: String}\n * @returns\n */\nexport function removebook (id) {\n  console.log(id)\n  return axios.delete('/api/back/removebook', {params: { id }})\n}\n\n/**\n *\n *\n * @export\n * @param {*} _id\n * @returns\n */\nexport function getbook (_id) {\n  return axios.get('/api/back/getbook', {params: { _id }})\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/service/bookService.js","<template>\n  <div class=\"add-book-wrapper\">\n    <el-form :label-position=\"labelPosition\"\n      class=\"form-add\"\n      ref=\"bookForm\"\n      :rules=\"rules\"\n      label-width=\"80px\"\n      :model=\"formLabelAlign\">\n      <img src=\"/static/img/back.png\" class=\"img-back\" @click=\"returnBooklist\">\n      <el-form-item label=\"图片地址\" placeholder=\"图片地址\" prop=\"img\">\n        <el-input v-model=\"formLabelAlign.img\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"名称\" placeholder=\"名称\" prop=\"name\">\n        <el-input v-model=\"formLabelAlign.name\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"下载地址\" placeholder=\"下载地址\" prop=\"url\">\n        <el-input v-model=\"formLabelAlign.url\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"关键词\" prop=\"key\">\n        <el-select v-model=\"formLabelAlign.key\" placeholder=\"关键词\">\n          <el-option label=\"c/c++\" value=\"c/c++\"></el-option>\n          <el-option label=\"java\" value=\"java\"></el-option>\n          <el-option label=\"javascript\" value=\"js\"></el-option>\n          <el-option label=\"python\" value=\"python\"></el-option>\n          <el-option label=\"go\" value=\"go\"></el-option>\n          <el-option label=\"其他\" value=\"other\"></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item class=\"btn-wrapper\">\n        <el-button type=\"primary\" @click=\"onSubmit('bookForm')\" plain class=\"add\">添加</el-button>\n        <el-button type=\"warning\" @click=\"resetForm('bookForm')\" plain class=\"add\">取消</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n\n</template>\n<script>\nimport { addBook, getbook, changeBook } from '@/service/bookService.js'\nexport default {\n  data () {\n    return {\n      labelPosition: 'top',\n      iseditor: false,\n      formLabelAlign: {\n        img: '',\n        name: '',\n        url: '',\n        key: ''\n      },\n      rules: {\n        img: [\n          { required: true, message: '请输入图片地址', trigger: 'blur' }\n        ],\n        name: [\n          { required: true, message: '请输入名称', trigger: 'blur' }\n        ],\n        url: [\n          { required: true, message: '请输入下载地址', trigger: 'blur' }\n        ],\n        key: [\n          { required: true, message: '请选择关键词', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  methods: {\n    onSubmit (bookForm) {\n      this.$refs[bookForm].validate(valid => {\n        if (valid) {\n          if (!this.iseditor) {\n            addBook(this.formLabelAlign).then(\n              res => {\n                if (res.data && res.data.success) {\n                  this.$message('添加成功')\n                  this.resetForm(bookForm)\n                  this.$router.push('/booklist')\n                }\n              }\n            )\n          } else {\n            changeBook(this.formLabelAlign).then(\n              res => {\n                if (res.data && res.data.success) {\n                  this.$message('更新成功')\n                  this.resetForm(bookForm)\n                  this.$router.push('/booklist')\n                }\n              }\n            )\n          }\n        } else {\n          return false\n        }\n      })\n    },\n    resetForm (bookForm) {\n      this.$refs[bookForm].resetFields()\n    },\n    returnBooklist () {\n      this.resetForm('bookForm')\n      this.$router.push('/booklist')\n    }\n  },\n  mounted () {\n    if (this.$route.params && this.$route.params.id) {\n      this.iseditor = true\n      getbook(this.$route.params.id).then(\n        res => {\n          this.formLabelAlign = res.data\n        }\n      )\n    }\n  }\n}\n</script>\n<style>\n  .img-back {\n    width: 20px;\n    height: 20px;\n    cursor: pointer;\n    transition: all 0.5s;\n  }\n  .img-back:hover {\n    transform: scale(1.2);\n  }\n  .add-book-wrapper {\n    width: 400px;\n    height: 100vh;\n    display: flex;\n    position: relative;\n    align-items: center;\n    margin: 40px auto 0;\n  }\n  .add-book-wrapper .form-add {\n    width: 100%;\n  }\n  .el-form--label-top .el-form-item__label {\n    padding: 0;\n  }\n  .el-select {\n    width: 100%;\n  }\n  .el-button.add {\n    width: 40%;\n  }\n  .el-button+.el-button {\n    margin-left: 0;\n  }\n  .btn-wrapper {\n    text-align: center;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/views/Addbook/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"add-book-wrapper\"},[_c('el-form',{ref:\"bookForm\",staticClass:\"form-add\",attrs:{\"label-position\":_vm.labelPosition,\"rules\":_vm.rules,\"label-width\":\"80px\",\"model\":_vm.formLabelAlign}},[_c('img',{staticClass:\"img-back\",attrs:{\"src\":\"/static/img/back.png\"},on:{\"click\":_vm.returnBooklist}}),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"图片地址\",\"placeholder\":\"图片地址\",\"prop\":\"img\"}},[_c('el-input',{model:{value:(_vm.formLabelAlign.img),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"img\", $$v)},expression:\"formLabelAlign.img\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"名称\",\"placeholder\":\"名称\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.formLabelAlign.name),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"name\", $$v)},expression:\"formLabelAlign.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"下载地址\",\"placeholder\":\"下载地址\",\"prop\":\"url\"}},[_c('el-input',{model:{value:(_vm.formLabelAlign.url),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"url\", $$v)},expression:\"formLabelAlign.url\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"关键词\",\"prop\":\"key\"}},[_c('el-select',{attrs:{\"placeholder\":\"关键词\"},model:{value:(_vm.formLabelAlign.key),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"key\", $$v)},expression:\"formLabelAlign.key\"}},[_c('el-option',{attrs:{\"label\":\"c/c++\",\"value\":\"c/c++\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"java\",\"value\":\"java\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"javascript\",\"value\":\"js\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"python\",\"value\":\"python\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"go\",\"value\":\"go\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"其他\",\"value\":\"other\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"btn-wrapper\"},[_c('el-button',{staticClass:\"add\",attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.onSubmit('bookForm')}}},[_vm._v(\"添加\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"add\",attrs:{\"type\":\"warning\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.resetForm('bookForm')}}},[_vm._v(\"取消\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0a43288c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!../node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/views/Addbook/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0a43288c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0a43288c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/views/Addbook/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}